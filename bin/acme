#!/usr/bin/env python
# -*- coding: utf-8 -*-
"""
acme: running ansible-playbooks with some customization
"""

from __future__ import print_function
import sys
import os
import ConfigParser

import ansible

from acme.cmds import require_commands, find_playbook_path, find_acme_project, find_inventorypath

PATHSEP = ':'

ConfigFileHeader = """\
# Ansible configuration file generated by Acme, all changes will be lost.
# You can manipulate the contents of this file via `.acme.cfg`.
"""


def write_config(filename, config):
    cfgparser = ConfigParser.ConfigParser()
    for section, pairs in config.items():
        cfgparser.add_section(section)
        for option, value in pairs.items():
            cfgparser.set(section, option, value)

    with open(filename, 'w') as fh:
        print(ConfigFileHeader, file=fh)
        cfgparser.write(fh)

